<?xml version="1.0"?>
<CLBConfig version="2.0" output="output/H_1" permissive="true">
  <Geometry nx="1024" ny="256">
    <MRT>
      <Box />
    </MRT>
    <WVelocity name="Inlet">
      <Inlet />
    </WVelocity>
    <EPressure name="Outlet">
      <Outlet />
    </EPressure>
    <Inlet nx="1" dx="1">
      <Box />
    </Inlet>
    <Outlet nx="1" dx="-1">
      <Box />
    </Outlet>
  </Geometry>
  <RunR>
    library(png)
    tab = readPNG("example/data/1024_256_hz.png")

	  Solver$Fields$Height[] = 1#t(10+2*tab[,,1])

    Solver$Actions$InitFromFields()
    Solver$Actions$InitFromFields()

    </RunR>
  <Model>
    <Param name="VelocityX" value="0.0" />
    <Param name="VelocityX" value="0.01" zone="Inlet" />
    <Param name="Pressure" value="0.0" />
    <Param name="C_saturation" value="1.0" />
    <Param name="Concentration" value="0.0" />
    <Param name="Inlet_concentration" value="0.0" />
    <Param name="k" value="1e-4" />
  </Model>
  <VTK />
  <Solve Iterations="1e9">
    <VTK Iterations="1e5"/>
  </Solve>
</CLBConfig>
